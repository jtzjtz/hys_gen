---
apiVersion: extensions/v1beta1
kind: Ingress
metadata:
  name: __CI_PROJECT_PATH_SLUG__-__CI_COMMIT_BRANCH__-ingress
  namespace: gitlab
  labels:
    app: __CI_PROJECT_NAME__
#  annotations:
#    kubernetes.io/ingress.class: "traefik"
spec:
  rules:
  - host: __CI_PROJECT_NAME__.__CI_COMMIT_BRANCH__.array.cool
    http:
      paths:
      - path: /
        backend:
          serviceName: __CI_PROJECT_PATH_SLUG__-__CI_COMMIT_BRANCH__-service
          servicePort: 8000